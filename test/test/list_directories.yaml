---
- name: Multiple package install user input
  hosts: master
  gather_facts: no
  vars_prompt:
  - name: target_host
    prompt: Enter the hostname in form of ansible hosts file name
    private: no
  tasks:
  - add_host:
      name: "{{ target_host }}"
      groups: created_hosts
- hosts: created_hosts
  vars_prompt:
  - name: listing_directories
    prompt: Enter Directory Name (/opt,/mnt)
    private: no
  tasks:
  - name: Listing Packages
    shell: "ls -la {{item}}"
    loop:
      - "{{ listing_directories.split() }}"
    register: List_file
  - debug:
      msg: "{{List_file}}"
